(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{571:function(e,t,r){"use strict";r.r(t);r(138),r(12),r(98);var n=r(28),o=r(60),l=r(35),c=r(54),d=r(135),v=r.n(d).a.create({baseURL:"/api"}),m=function(){function e(){Object(l.a)(this,e)}var t,r,o,d;return Object(c.a)(e,null,[{key:"get",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/courses"));case 1:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"add",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/courses",data));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"update",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.put("/courses/".concat(t),data));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"delete",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.delete("/courses/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),f=Object(o.a)({asyncData:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get();case 3:t=e.sent,data=t.data,console.log(data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},middleware:"auth",data:function(){return{dialog:!1,dialogDelete:!1,loadingData:!0,deleteCourseId:"",courses:[],headers:[{text:"Title",value:"title"},{text:"Hours",value:"hours"},{text:"Hours Per Week",value:"hoursPerWeek"},{text:"Price",value:"price"},{text:"Original",value:"original"},{text:"People Per Course",value:"peoplePerCourse"},{text:"Phone",value:"phone"},{text:"Week Day",value:"weekDay"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,weekDays:["Saurday","Sunday","Monday","Tuesday","Webnesday","Thirsday","Friday"],items:["Sunday","Saturday"],editing:!1,editedItem:{title:"",description:"",hours:21,hoursPerWeek:3,i:0,id:"",img:"",original:0,peoplePerCourse:0,phone:"",price:0,slug:"",step:[""],weekDay:["Sunday"]},defaultItem:{title:"",description:"",hours:21,hoursPerWeek:3,i:0,id:"",img:"",original:0,peoplePerCourse:0,phone:"",price:0,slug:"",step:[""],weekDay:["Sunday"]}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingData=!0,t.next=4,m.get();case 4:r=t.sent,data=r.data,console.log(JSON.stringify(data.data[0])),e.courses=data.data,e.loadingData=!1,t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),e.loadingData=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.editing=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.deleteCourseId=e.id,console.log(this.deleteCourseId),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.desserts.splice(e.editedIndex,1),t.next=4,m.delete(e.deleteCourseId);case 4:e.closeDelete(),e.initialize(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.editing){t.next=8;break}return t.next=4,m.update(e.editedItem.id,e.editedItem);case 4:return e.dialog=!1,t.abrupt("return",e.initialize());case 8:return t.next=10,m.add(e.editedItem);case 10:return e.dialog=!1,t.abrupt("return",e.initialize());case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},removeWeek:function(e){this.editedItem.weekDay=this.editedItem.weekDay.filter((function(t){if(t!==e)return t}))},removeStep:function(i){console.log(i),this.editedItem.step.splice(i,1)}}}),h=r(63),k=r(75),x=r.n(k),I=r(231),_=r(222),y=r(86),w=r(514),D=r(482),C=r(584),O=r(487),R=r(570),V=r(484),S=r(499),P=r(218),T=r(483),j=r(481),W=r(130),$=r(485),z=r(81),A=r(516),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Dashboard")]),e._v(" "),r("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.headers,items:e.courses,"sort-by":"calories",loading:e.loadingData},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("Courses")]),e._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),n),[e._v("New Item")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",[r("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Course Title",filled:""},model:{value:e.editedItem.title,callback:function(t){e.$set(e.editedItem,"title",t)},expression:"editedItem.title"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-textarea",{attrs:{label:"Description",filled:""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{filled:"",label:"Total Hours"},model:{value:e.editedItem.hours,callback:function(t){e.$set(e.editedItem,"hours",t)},expression:"editedItem.hours"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{filled:"",label:"Hours Per Week"},model:{value:e.editedItem.hoursPerWeek,callback:function(t){e.$set(e.editedItem,"hoursPerWeek",t)},expression:"editedItem.hoursPerWeek"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{filled:"",label:"Original Price"},model:{value:e.editedItem.original,callback:function(t){e.$set(e.editedItem,"original",t)},expression:"editedItem.original"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-text-field",{attrs:{filled:"",label:"Discount Price"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-combobox",{attrs:{items:e.weekDays,chips:"",clearable:"",label:"Days of week",multiple:"",filled:""},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.attrs,o=t.item,select=t.select,l=t.selected;return[r("v-chip",e._b({attrs:{"input-value":l,close:""},on:{click:select,"click:close":function(t){return e.removeWeek(o)}}},"v-chip",n,!1),[r("strong",[e._v(e._s(o))])])]}}]),model:{value:e.editedItem.weekDay,callback:function(t){e.$set(e.editedItem,"weekDay",t)},expression:"editedItem.weekDay"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("h2",[e._v("Steps")]),e._v(" "),e._l(e.editedItem.step,(function(t,i){return r("v-text-field",{key:i,attrs:{"append-icon":e.editedItem.step.length>1?"mdi-trash-can-outline":"",filled:"",label:"Add Courses Step"},on:{"click:append":function(t){return e.removeStep(i)}},model:{value:e.editedItem.step[i],callback:function(t){e.$set(e.editedItem.step,i,t)},expression:"editedItem.step[i]"}})}))],2),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-spacer"),e._v(" "),r("v-btn",{on:{click:function(t){return e.editedItem.step.push("")}}},[e._v("Add Steps")]),e._v(" "),r("v-spacer")],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),r("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")]),e._v(" "),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{VBtn:I.a,VCard:_.a,VCardActions:y.a,VCardText:y.c,VCardTitle:y.d,VChip:w.a,VCol:D.a,VCombobox:C.a,VContainer:O.a,VDataTable:R.a,VDialog:V.a,VDivider:S.a,VIcon:P.a,VRow:T.a,VSpacer:j.a,VTextField:W.a,VTextarea:$.a,VToolbar:z.a,VToolbarTitle:A.a})}}]);